{"version":3,"sources":["webpack:///path---connect-gatsby-to-contentful-79e912b2f74054b937eb.js","webpack:///./.cache/json/connect-gatsby-to-contentful.json"],"names":["webpackJsonp","386","module","exports","data","contentfulBlog","title","subHeading","tags","slug","published","bannerimage","sizes","base64","aspectRatio","src","srcSet","content","childMarkdownRemark","html","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,MAAA,2BAAAC,WAAA,oDAAAC,KAAA,4BAAAC,KAAA,+BAAAC,UAAA,yBAAAC,aAAiOC,OAASC,OAAA,8mBAA0BC,YAAA,mBAAAC,IAAA,2HAAAC,OAAA,kqBAAAJ,MAAA,oCAAq9CK,SAAYC,qBAAuBC,KAAA;KAAo5+BC,aAAgBX,KAAA","file":"path---connect-gatsby-to-contentful-79e912b2f74054b937eb.js","sourcesContent":["webpackJsonp([268729773956367],{\n\n/***/ 386:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"contentfulBlog\":{\"title\":\"Contentful with GatsbyJS\",\"subHeading\":\"Hooking your GatsbyJS app with the Contentful CMS\",\"tags\":\"GatsbyJS,React,JavaScript\",\"slug\":\"connect-gatsby-to-contentful\",\"published\":\"2018-06-21T00:00+08:00\",\"bannerimage\":{\"sizes\":{\"base64\":\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAlgCWAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQGAQj/xAAlEAACAQMCBgMBAAAAAAAAAAABAgMABBEFBgcTFCExURIVI2H/xAAWAQEBAQAAAAAAAAAAAAAAAAAEAQX/xAAgEQABAgYDAQAAAAAAAAAAAAABABECAxIhMWETcYGx/9oADAMBAAIRAxEAPwDmscHdHPBWPd/2mb14HnLdTHykkWbl9MYgpb5lcMCWHnxgZMRs/bWna7qk0FzfM6xWbXKW8H5y3UoKjkIzAgNgk5wRhTgGpjJxjPb1WVuTDU1FiPfqHySiKYoLaJB2xwH2Cntbs47DV7u2iSSOOKQqqTOrOo9MV7Ej+UUjRU7RrDGF/9k=\",\"aspectRatio\":1.7777777777777777,\"src\":\"//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=780&q=50\",\"srcSet\":\"//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=195&h=110&q=50 195w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=390&h=219&q=50 390w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=780&h=439&q=50 780w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=1170&h=658&q=50 1170w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=1280&h=720&q=50 1280w\",\"sizes\":\"(max-width: 780px) 100vw, 780px\"}},\"content\":{\"childMarkdownRemark\":{\"html\":\"<p>This article will guide you through getting your Gatsby website up and running with Contentful. For this article I will start from scratch and end up with GatsbyJS building pages with posts in markdown from Contentful and have your site running on a Netlify server accessible via the Internet.</p>\\n<h3>Installing our Gatsby App</h3>\\n<p>If you are just starting out with Gatsby you should try out the <a href=\\\"https://www.gatsbyjs.org/tutorial/\\\">tutorials</a> on their site and browse the <a href=\\\"https://www.gatsbyjs.org/docs/\\\">documentation</a>. One of the benefits of choosing Gatsby is excellent documentation available on their site which can be easily searched when you need assistance. I will assume you have installed Gatsby previously and are ready to start a new project. So let's begin by creating a new project in the Terminal:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">:~ $<span class=\\\"token operator\\\">></span> gatsby new gatsby-blog\\n:~ $<span class=\\\"token operator\\\">></span> <span class=\\\"token function\\\">cd</span> gatsby-blog\\n~:gatsby-blog $<span class=\\\"token operator\\\">></span> gatsby develop</code></pre>\\n      </div>\\n<p>This will install and start the Gatsby development server, giving us two important URI's - the site to view at <a href=\\\"http://localhost:8000/\\\">http://localhost:8000/</a> and GraphiQL IDE  at <a href=\\\"http://localhost:8000/___graphql\\\">http://localhost:8000/___graphql</a> to explore the app's data including the contentful API when we install the plugins later.</p>\\n<h3>Setting up Contentful</h3>\\n<p>Now that we have our Gatsby development server running, Let's head to Contentful and <a href=\\\"https://www.contentful.com/sign-up/\\\">create a new account</a>. Their Micro tier is free and more than adequate for most purposes with 24 content types and 5,000 records. Signing up creates a space for us, we need to go to 'Content model' and start a new model called 'Blog'. We will create five fields for our blog post - Title, Content, Image, Published and Slug. The Blog model should now look like this:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/5U1z40sAMwi4gwuikWGksE/be872bfdb06d477b9980104e142f41a5/Screen_Shot_2018-06-22_at_11.02.34_am.png\\\" alt=\\\"Screen Shot 2018-06-22 at 11.02.34 am\\\"></p>\\n<p>Now we have our content model setup, let's click on the content tab and add two simple sample -blog posts (sometimes Gatsby's GraphQL query will fail when building via the <code class=\\\"language-text\\\">gatsby develop</code> command with only one item in the Contentful model). Fill out the fields and publish the content so it is available via the API for Gatsby. The slug field will be used on Gatsby as part of the URI, so it must be unique and not contain spaces. There is only one thing left to on the Contentful site, click the Settings drop down menu and select API keys.</p>\\n<p><a href=\\\"//images.ctfassets.net/dbj3qsde8a1y/5c8rBVhGpqK0c4oaKAm8Ki/b5c2bb827347c1b1f336571964375092/Screen_Shot_2018-06-22_at_11.26.23_am.png\\\">Screen Shot 2018-06-22 at 11.26.23 am</a></p>\\n<p>Once you are at this page name add a name and description, and save the changes. Leave this page open for later, we will need to add the Space ID and access token keys to the Gatsby config file to allow our app to access the sample post we made.</p>\\n<h3>Setting up Gatsby with Contentful</h3>\\n<p>Let's head back to the Terminal and shut down the development server with <code class=\\\"language-text\\\">ctrl + c</code> and install the additional packages to allow us to connect to Contentful and display the blog post on the site.</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">~:gatsby-blog $<span class=\\\"token operator\\\">></span> <span class=\\\"token function\\\">npm</span> <span class=\\\"token function\\\">install</span> gatsby-source-contentful gatsby-transformer-remark gatsby-image dotenv</code></pre>\\n      </div>\\n<p>The plugin gatsby-source-contentful is what allows us to connect with Contentful's API and get our data, env allows us to save the Contentful API keys in a file that is hidden from GitHub whilst allowing us to use them later on Netlify. The other two plugins will help us format that data into HTML for our site.</p>\\n<p>Now we need to open the <code class=\\\"language-text\\\">gatsby-config.js</code> file in the root of your project folder to add in the the packages to the Gatsby and the configuration we need:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//gatsby-config.js</span>\\n<span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'dotenv'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">config</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nmodule<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  siteMetadata<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'Gatsby Default Starter'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  plugins<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n      <span class=\\\"token punctuation\\\">{</span>\\n          resolve<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`gatsby-source-contentful`</span></span><span class=\\\"token punctuation\\\">,</span>\\n          options<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n            spaceId<span class=\\\"token punctuation\\\">:</span> process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">SPACE_ID</span><span class=\\\"token punctuation\\\">,</span>\\n            accessToken<span class=\\\"token punctuation\\\">:</span> process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">ACCESS_TOKEN</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">'gatsby-plugin-react-helmet'</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">'gatsby-transformer-remark'</span>\\n  <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>In this file we required the <a href=\\\"https://github.com/motdotla/dotenv\\\">dotenv</a> module to allow us to load our environment variables from a file into the config without exposing the API secret in our GitHub/GitLab repository. Even if your repository is private it is still a very good idea not to publish them on the repository. For this to work we need to create a new <code class=\\\"language-text\\\">.env</code> file in the root and add our <em>Content Delivery API</em> and <em>Space ID</em> into the file like so from Contentful page we had open earlier (they should look similar to the ones below, but the ones shown are only for example):</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">SPACE_ID=qibx4j8lfwen\\nACCESS_TOKEN=46bc6f77364a9c7abd66b0032560c0dc6daf703f414a1f74a3cb8abh3y8j22kl</code></pre>\\n      </div>\\n<p>Then save the file and add this to our <code class=\\\"language-text\\\">.gitignore</code> so it won't be commited into git in the next commit. The file should look like this:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\"># Project dependencies\\n.cache\\nnode_modules\\nyarn-error.log\\n.env\\n\\n# Build directory\\n/public\\n.DS_Store</code></pre>\\n      </div>\\n<p>It's now time to start the server again with <code class=\\\"language-text\\\">gatsby develop</code> and see if we've been successful in connecting Contentful API to our app. If you've added the keys correctly the server will start up and it's time to go to to <strong><a href=\\\"http://localhost:8000/___graphql\\\">http://localhost:8000/___graphql</a></strong> and check the queries from Contentful are being returned correctly. Let's try and get our new blog post data from GraphiQL. On the left panel enter the following query and <code class=\\\"language-text\\\">ctrl + enter</code> to run the query. If you are trying to build a query the GraphiQL allows us to auto complete with <code class=\\\"language-text\\\">ctrl + space</code>.</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token punctuation\\\">{</span> \\n  allContentfulBlog <span class=\\\"token punctuation\\\">{</span>\\n    edges <span class=\\\"token punctuation\\\">{</span>\\n      node <span class=\\\"token punctuation\\\">{</span>\\n        title\\n        content <span class=\\\"token punctuation\\\">{</span>\\n          childMarkdownRemark <span class=\\\"token punctuation\\\">{</span>\\n            excerpt\\n          <span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n        slug\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>In the right side, you should see the returned blog post in JSON format that you made in Contentful, a sample is shown below. The allContentful fields all have the content model's name after it, such as allContentfulProject or allContentfulAdvertisement. This is where the Contentful model name comes into play. Since we want our blog posts, the one we want to use is <strong>allContentfulBlog</strong> to match our <strong>Blog</strong> content model.</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/43L0RVgjXaoaKGKcKYgQam/4a57b39cc5100685b3ffa5b7295eb9da/Screen_Shot_2018-06-22_at_3.50.21_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 3.50.21 pm\\\"></p>\\n<p>Now let's get Gatsby building our blog posts for us. We will need to close the server again with <code class=\\\"language-text\\\">ctrl + c</code> and add the GraphQL query to the site. First we need to modify <code class=\\\"language-text\\\">gatsby-node.js</code> like so:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//gatsby-node.js</span>\\n<span class=\\\"token keyword\\\">const</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'path'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nexports<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">createPages</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> graphql<span class=\\\"token punctuation\\\">,</span> boundActionCreators <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> createPage <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> boundActionCreators\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Promise</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>resolve<span class=\\\"token punctuation\\\">,</span> reject<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> blogPostTemplate <span class=\\\"token operator\\\">=</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'src/templates/blog-post.js'</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token function\\\">graphql</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n        {\\n            allContentfulBlog (limit:100) {\\n                edges {\\n                    node {\\n                        slug\\n                    }\\n                }\\n            }\\n        }\\n          `</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>result<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>result<span class=\\\"token punctuation\\\">.</span>errors<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token function\\\">reject</span><span class=\\\"token punctuation\\\">(</span>result<span class=\\\"token punctuation\\\">.</span>errors<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n        result<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>allContentfulBlog<span class=\\\"token punctuation\\\">.</span>edges<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>edge<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token function\\\">createPage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            path<span class=\\\"token punctuation\\\">:</span> edge<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>slug<span class=\\\"token punctuation\\\">,</span>\\n            component<span class=\\\"token punctuation\\\">:</span> blogPostTemplate<span class=\\\"token punctuation\\\">,</span>\\n            context<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n              slug<span class=\\\"token punctuation\\\">:</span> edge<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>slug\\n            <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">return</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>This finds the <strong>slug</strong> of each blog post and creates a page for each blog using the React component at <code class=\\\"language-text\\\">&#39;src/templates/blog-post.js&#39;</code>. Now we need to make that file so we can restart the server and let it build the blog pages for us. </p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//src/templates/blog-post.js</span>\\n<span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> PropTypes <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'prop-types'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> Img <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"gatsby-image\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">BlogPost</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> title<span class=\\\"token punctuation\\\">,</span> published<span class=\\\"token punctuation\\\">,</span> bannerImage<span class=\\\"token punctuation\\\">,</span> content <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> props<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>contentfulBlog\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>h2 style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span>\\n        borderBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'2px solid #efefef'</span><span class=\\\"token punctuation\\\">,</span>\\n        paddingBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'8px'</span><span class=\\\"token punctuation\\\">,</span>\\n        textAlign<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'center'</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token punctuation\\\">{</span>title<span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h2<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>p style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span>\\n        borderBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'1px solid #efefef'</span><span class=\\\"token punctuation\\\">,</span>\\n        paddingBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'8px'</span><span class=\\\"token punctuation\\\">,</span>\\n        textAlign<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'center'</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token punctuation\\\">{</span>published<span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>Img sizes<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>bannerImage<span class=\\\"token punctuation\\\">.</span>sizes<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>hr <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>div dangerouslySetInnerHTML<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> __html<span class=\\\"token punctuation\\\">:</span> content<span class=\\\"token punctuation\\\">.</span>childMarkdownRemark<span class=\\\"token punctuation\\\">.</span>html <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\nBlogPost<span class=\\\"token punctuation\\\">.</span>PropTypes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  data<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span>object<span class=\\\"token punctuation\\\">.</span>isRequired\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> BlogPost<span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> pageQuery <span class=\\\"token operator\\\">=</span> graphql<span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n    query blogPostQuery($slug: String!){\\n        contentfulBlog(slug: {eq: $slug}) {\\n            title\\n            published(formatString: \\\"MMMM DD, YYYY\\\")\\n            bannerImage {\\n                sizes(maxWidth: 400) {\\n                    ...GatsbyContentfulSizes\\n                }\\n            }\\n            content {\\n                childMarkdownRemark {\\n                    html\\n                }\\n            }\\n        }\\n    }\\n`</span></span></code></pre>\\n      </div>\\n<p>On this file we run another GraphQL query, taking the <strong>slug</strong> passed from previous query to search the API for the blog we are looking for. We then request all the data in this query that we need to build this blog post and then we can access it via props within the React component. We can then use it to build our JSX for the page like a normal React component.</p>\\n<p>Let's see is we were successful. Using <code class=\\\"language-text\\\">gatsby develop</code> we will restart our server, during the start sequence the GraphQL queries will run and the pages will be built, if we were successful the process will complete without any errors. If you browse to <strong><a href=\\\"http://localhost:8000/\\\">http://localhost:8000/</a></strong> you will notice no difference, however in development mode if we view a page that does exist such as <strong><a href=\\\"http://localhost:8000/nopage\\\">http://localhost:8000/nopage</a></strong> Gatsby will list the available pages like so:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/21obGEEwD6OIcksWaY6S0c/fc78ec6ab55e7f44b38dd1059691fc9d/Screen_Shot_2018-06-22_at_4.28.35_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 4.28.35 pm\\\"></p>\\n<p>From here we can click on the link to view the blog post:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/14sluWmNB0i2IK4yesU4u0/c9c3fab37d1119b471f539dd1f3be775/Screen_Shot_2018-06-22_at_4.31.17_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 4.31.17 pm\\\"></p>\\n<p>And success, our blog post has been created within our site. It's styling is basic but it's working. An important note is Gatsby will cache parts of the API data during the development build, so if you were to add more fields to the Content model later it might require you to clear the cache by <code class=\\\"language-text\\\">rm -rf .cache/ public</code> within the Terminal then restarting the server. Now we only need add some links for our blog on the index page so we can navigate to each post:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//src/pages/index.js</span>\\n<span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> Link <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'gatsby-link'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">IndexPage</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>h1<span class=\\\"token operator\\\">></span>Hi people<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h1<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span>Welcome to your <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Gatsby</span> site<span class=\\\"token punctuation\\\">.</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span>Now go build something great<span class=\\\"token punctuation\\\">.</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>ul<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>props<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>allContentfulBlog<span class=\\\"token punctuation\\\">.</span>edges<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span> <span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>li<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>Link to<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span> data<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>slug <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span> data<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>title <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Link<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span> data<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>content<span class=\\\"token punctuation\\\">.</span>childMarkdownRemark<span class=\\\"token punctuation\\\">.</span>excerpt <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>li<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span>li<span class=\\\"token operator\\\">></span><span class=\\\"token operator\\\">&lt;</span>Link to<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"/page-2/\\\"</span><span class=\\\"token operator\\\">></span>Go to page <span class=\\\"token number\\\">2</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Link<span class=\\\"token operator\\\">></span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>li<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>ul<span class=\\\"token operator\\\">></span>\\n  <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> IndexPage<span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> pageQuery <span class=\\\"token operator\\\">=</span> graphql<span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n    query pageQuery {\\n        allContentfulBlog(\\n            filter: {\\n                node_locale: {eq: \\\"en-US\\\"}\\n            },\\n            sort: {\\n                fields: [createdAt], order: DESC\\n            }\\n        ) {\\n            edges {\\n                node {\\n                    title\\n                    slug\\n                    content {\\n                        childMarkdownRemark {\\n                            excerpt\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n    }\\n`</span></span></code></pre>\\n      </div>\\n<p>So now when we view the home page of our app we get links to our posts:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/50dcqxrqPekAgicMGuESqC/3ccc0fb1ea4f554929cd83b9eb79af30/Screen_Shot_2018-06-22_at_5.00.51_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 5.00.51 pm\\\"></p>\\n<h3>Deploy to Netlify</h3>\\n<p>The first step is to push your repository to GitHub/GitLab/Bitbucket, then head on over to <a href=\\\"https://www.netlify.com/\\\">Netlify</a> and sign up for an account. Once you are into the dashboard click <strong>New site from Git</strong>. Then select your remote git provider and then select your repository. When you get to the last screen, <strong>3. Build options, and deploy!</strong>, click <strong>show advanced</strong> and then click <strong>New variable</strong> and add the variables from your <code class=\\\"language-text\\\">.env</code> like below:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/3GcyzH2hpuyMa4Kaakokse/5548e393df5150d5d48a2dc1bcbe7374/Screen_Shot_2018-06-22_at_5.24.32_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 5.24.32 pm\\\"></p>\\n<p>From there Netlify's bot's will automatically build your site and the next page will give you the URI. You're now set to add more blogs and build your site. Each time you push changes to your remote git provider, Netlify will update the site. It it also possible to add a build hook for Contentful so Netlify will update the site when a new blog post is published.</p>\\n<h3>Conclusion</h3>\\n<p>I hope you found this useful, if you have any problems you can contact me on Twitter <a href=\\\"https://twitter.com/rhysonrails\\\">@rhysonrails</a> or click the email link below to send me an email.</p>\"}}}},\"pathContext\":{\"slug\":\"connect-gatsby-to-contentful\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---connect-gatsby-to-contentful-79e912b2f74054b937eb.js","module.exports = {\"data\":{\"contentfulBlog\":{\"title\":\"Contentful with GatsbyJS\",\"subHeading\":\"Hooking your GatsbyJS app with the Contentful CMS\",\"tags\":\"GatsbyJS,React,JavaScript\",\"slug\":\"connect-gatsby-to-contentful\",\"published\":\"2018-06-21T00:00+08:00\",\"bannerimage\":{\"sizes\":{\"base64\":\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAlgCWAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQGAQj/xAAlEAACAQMCBgMBAAAAAAAAAAABAgMABBEFBgcTFCExURIVI2H/xAAWAQEBAQAAAAAAAAAAAAAAAAAEAQX/xAAgEQABAgYDAQAAAAAAAAAAAAABABECAxIhMWETcYGx/9oADAMBAAIRAxEAPwDmscHdHPBWPd/2mb14HnLdTHykkWbl9MYgpb5lcMCWHnxgZMRs/bWna7qk0FzfM6xWbXKW8H5y3UoKjkIzAgNgk5wRhTgGpjJxjPb1WVuTDU1FiPfqHySiKYoLaJB2xwH2Cntbs47DV7u2iSSOOKQqqTOrOo9MV7Ej+UUjRU7RrDGF/9k=\",\"aspectRatio\":1.7777777777777777,\"src\":\"//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=780&q=50\",\"srcSet\":\"//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=195&h=110&q=50 195w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=390&h=219&q=50 390w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=780&h=439&q=50 780w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=1170&h=658&q=50 1170w,\\n//images.ctfassets.net/dbj3qsde8a1y/2Agb2r37fWw0mucMki6Aog/64fe9f5b697610750e5e5878d960e634/maxresdefault.jpg?w=1280&h=720&q=50 1280w\",\"sizes\":\"(max-width: 780px) 100vw, 780px\"}},\"content\":{\"childMarkdownRemark\":{\"html\":\"<p>This article will guide you through getting your Gatsby website up and running with Contentful. For this article I will start from scratch and end up with GatsbyJS building pages with posts in markdown from Contentful and have your site running on a Netlify server accessible via the Internet.</p>\\n<h3>Installing our Gatsby App</h3>\\n<p>If you are just starting out with Gatsby you should try out the <a href=\\\"https://www.gatsbyjs.org/tutorial/\\\">tutorials</a> on their site and browse the <a href=\\\"https://www.gatsbyjs.org/docs/\\\">documentation</a>. One of the benefits of choosing Gatsby is excellent documentation available on their site which can be easily searched when you need assistance. I will assume you have installed Gatsby previously and are ready to start a new project. So let's begin by creating a new project in the Terminal:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">:~ $<span class=\\\"token operator\\\">></span> gatsby new gatsby-blog\\n:~ $<span class=\\\"token operator\\\">></span> <span class=\\\"token function\\\">cd</span> gatsby-blog\\n~:gatsby-blog $<span class=\\\"token operator\\\">></span> gatsby develop</code></pre>\\n      </div>\\n<p>This will install and start the Gatsby development server, giving us two important URI's - the site to view at <a href=\\\"http://localhost:8000/\\\">http://localhost:8000/</a> and GraphiQL IDE  at <a href=\\\"http://localhost:8000/___graphql\\\">http://localhost:8000/___graphql</a> to explore the app's data including the contentful API when we install the plugins later.</p>\\n<h3>Setting up Contentful</h3>\\n<p>Now that we have our Gatsby development server running, Let's head to Contentful and <a href=\\\"https://www.contentful.com/sign-up/\\\">create a new account</a>. Their Micro tier is free and more than adequate for most purposes with 24 content types and 5,000 records. Signing up creates a space for us, we need to go to 'Content model' and start a new model called 'Blog'. We will create five fields for our blog post - Title, Content, Image, Published and Slug. The Blog model should now look like this:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/5U1z40sAMwi4gwuikWGksE/be872bfdb06d477b9980104e142f41a5/Screen_Shot_2018-06-22_at_11.02.34_am.png\\\" alt=\\\"Screen Shot 2018-06-22 at 11.02.34 am\\\"></p>\\n<p>Now we have our content model setup, let's click on the content tab and add two simple sample -blog posts (sometimes Gatsby's GraphQL query will fail when building via the <code class=\\\"language-text\\\">gatsby develop</code> command with only one item in the Contentful model). Fill out the fields and publish the content so it is available via the API for Gatsby. The slug field will be used on Gatsby as part of the URI, so it must be unique and not contain spaces. There is only one thing left to on the Contentful site, click the Settings drop down menu and select API keys.</p>\\n<p><a href=\\\"//images.ctfassets.net/dbj3qsde8a1y/5c8rBVhGpqK0c4oaKAm8Ki/b5c2bb827347c1b1f336571964375092/Screen_Shot_2018-06-22_at_11.26.23_am.png\\\">Screen Shot 2018-06-22 at 11.26.23 am</a></p>\\n<p>Once you are at this page name add a name and description, and save the changes. Leave this page open for later, we will need to add the Space ID and access token keys to the Gatsby config file to allow our app to access the sample post we made.</p>\\n<h3>Setting up Gatsby with Contentful</h3>\\n<p>Let's head back to the Terminal and shut down the development server with <code class=\\\"language-text\\\">ctrl + c</code> and install the additional packages to allow us to connect to Contentful and display the blog post on the site.</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\">~:gatsby-blog $<span class=\\\"token operator\\\">></span> <span class=\\\"token function\\\">npm</span> <span class=\\\"token function\\\">install</span> gatsby-source-contentful gatsby-transformer-remark gatsby-image dotenv</code></pre>\\n      </div>\\n<p>The plugin gatsby-source-contentful is what allows us to connect with Contentful's API and get our data, env allows us to save the Contentful API keys in a file that is hidden from GitHub whilst allowing us to use them later on Netlify. The other two plugins will help us format that data into HTML for our site.</p>\\n<p>Now we need to open the <code class=\\\"language-text\\\">gatsby-config.js</code> file in the root of your project folder to add in the the packages to the Gatsby and the configuration we need:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//gatsby-config.js</span>\\n<span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'dotenv'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">config</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nmodule<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  siteMetadata<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n      title<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'Gatsby Default Starter'</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  plugins<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n      <span class=\\\"token punctuation\\\">{</span>\\n          resolve<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`gatsby-source-contentful`</span></span><span class=\\\"token punctuation\\\">,</span>\\n          options<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n            spaceId<span class=\\\"token punctuation\\\">:</span> process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">SPACE_ID</span><span class=\\\"token punctuation\\\">,</span>\\n            accessToken<span class=\\\"token punctuation\\\">:</span> process<span class=\\\"token punctuation\\\">.</span>env<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">ACCESS_TOKEN</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">'gatsby-plugin-react-helmet'</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">'gatsby-transformer-remark'</span>\\n  <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span></code></pre>\\n      </div>\\n<p>In this file we required the <a href=\\\"https://github.com/motdotla/dotenv\\\">dotenv</a> module to allow us to load our environment variables from a file into the config without exposing the API secret in our GitHub/GitLab repository. Even if your repository is private it is still a very good idea not to publish them on the repository. For this to work we need to create a new <code class=\\\"language-text\\\">.env</code> file in the root and add our <em>Content Delivery API</em> and <em>Space ID</em> into the file like so from Contentful page we had open earlier (they should look similar to the ones below, but the ones shown are only for example):</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">SPACE_ID=qibx4j8lfwen\\nACCESS_TOKEN=46bc6f77364a9c7abd66b0032560c0dc6daf703f414a1f74a3cb8abh3y8j22kl</code></pre>\\n      </div>\\n<p>Then save the file and add this to our <code class=\\\"language-text\\\">.gitignore</code> so it won't be commited into git in the next commit. The file should look like this:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\"># Project dependencies\\n.cache\\nnode_modules\\nyarn-error.log\\n.env\\n\\n# Build directory\\n/public\\n.DS_Store</code></pre>\\n      </div>\\n<p>It's now time to start the server again with <code class=\\\"language-text\\\">gatsby develop</code> and see if we've been successful in connecting Contentful API to our app. If you've added the keys correctly the server will start up and it's time to go to to <strong><a href=\\\"http://localhost:8000/___graphql\\\">http://localhost:8000/___graphql</a></strong> and check the queries from Contentful are being returned correctly. Let's try and get our new blog post data from GraphiQL. On the left panel enter the following query and <code class=\\\"language-text\\\">ctrl + enter</code> to run the query. If you are trying to build a query the GraphiQL allows us to auto complete with <code class=\\\"language-text\\\">ctrl + space</code>.</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token punctuation\\\">{</span> \\n  allContentfulBlog <span class=\\\"token punctuation\\\">{</span>\\n    edges <span class=\\\"token punctuation\\\">{</span>\\n      node <span class=\\\"token punctuation\\\">{</span>\\n        title\\n        content <span class=\\\"token punctuation\\\">{</span>\\n          childMarkdownRemark <span class=\\\"token punctuation\\\">{</span>\\n            excerpt\\n          <span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n        slug\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>In the right side, you should see the returned blog post in JSON format that you made in Contentful, a sample is shown below. The allContentful fields all have the content model's name after it, such as allContentfulProject or allContentfulAdvertisement. This is where the Contentful model name comes into play. Since we want our blog posts, the one we want to use is <strong>allContentfulBlog</strong> to match our <strong>Blog</strong> content model.</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/43L0RVgjXaoaKGKcKYgQam/4a57b39cc5100685b3ffa5b7295eb9da/Screen_Shot_2018-06-22_at_3.50.21_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 3.50.21 pm\\\"></p>\\n<p>Now let's get Gatsby building our blog posts for us. We will need to close the server again with <code class=\\\"language-text\\\">ctrl + c</code> and add the GraphQL query to the site. First we need to modify <code class=\\\"language-text\\\">gatsby-node.js</code> like so:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//gatsby-node.js</span>\\n<span class=\\\"token keyword\\\">const</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'path'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\nexports<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function-variable function\\\">createPages</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> graphql<span class=\\\"token punctuation\\\">,</span> boundActionCreators <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> createPage <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> boundActionCreators\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Promise</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>resolve<span class=\\\"token punctuation\\\">,</span> reject<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> blogPostTemplate <span class=\\\"token operator\\\">=</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'src/templates/blog-post.js'</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token function\\\">graphql</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n        {\\n            allContentfulBlog (limit:100) {\\n                edges {\\n                    node {\\n                        slug\\n                    }\\n                }\\n            }\\n        }\\n          `</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">then</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>result<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>result<span class=\\\"token punctuation\\\">.</span>errors<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token function\\\">reject</span><span class=\\\"token punctuation\\\">(</span>result<span class=\\\"token punctuation\\\">.</span>errors<span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n        result<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>allContentfulBlog<span class=\\\"token punctuation\\\">.</span>edges<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>edge<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token function\\\">createPage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n            path<span class=\\\"token punctuation\\\">:</span> edge<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>slug<span class=\\\"token punctuation\\\">,</span>\\n            component<span class=\\\"token punctuation\\\">:</span> blogPostTemplate<span class=\\\"token punctuation\\\">,</span>\\n            context<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n              slug<span class=\\\"token punctuation\\\">:</span> edge<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>slug\\n            <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token keyword\\\">return</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>This finds the <strong>slug</strong> of each blog post and creates a page for each blog using the React component at <code class=\\\"language-text\\\">&#39;src/templates/blog-post.js&#39;</code>. Now we need to make that file so we can restart the server and let it build the blog pages for us. </p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//src/templates/blog-post.js</span>\\n<span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> PropTypes <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'prop-types'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> Img <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">\\\"gatsby-image\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">BlogPost</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> title<span class=\\\"token punctuation\\\">,</span> published<span class=\\\"token punctuation\\\">,</span> bannerImage<span class=\\\"token punctuation\\\">,</span> content <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> props<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>contentfulBlog\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>h2 style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span>\\n        borderBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'2px solid #efefef'</span><span class=\\\"token punctuation\\\">,</span>\\n        paddingBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'8px'</span><span class=\\\"token punctuation\\\">,</span>\\n        textAlign<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'center'</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token punctuation\\\">{</span>title<span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h2<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>p style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span>\\n        borderBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'1px solid #efefef'</span><span class=\\\"token punctuation\\\">,</span>\\n        paddingBottom<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'8px'</span><span class=\\\"token punctuation\\\">,</span>\\n        textAlign<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'center'</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token punctuation\\\">{</span>published<span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>Img sizes<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>bannerImage<span class=\\\"token punctuation\\\">.</span>sizes<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>hr <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>div dangerouslySetInnerHTML<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> __html<span class=\\\"token punctuation\\\">:</span> content<span class=\\\"token punctuation\\\">.</span>childMarkdownRemark<span class=\\\"token punctuation\\\">.</span>html <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\nBlogPost<span class=\\\"token punctuation\\\">.</span>PropTypes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  data<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span>object<span class=\\\"token punctuation\\\">.</span>isRequired\\n<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> BlogPost<span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> pageQuery <span class=\\\"token operator\\\">=</span> graphql<span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n    query blogPostQuery($slug: String!){\\n        contentfulBlog(slug: {eq: $slug}) {\\n            title\\n            published(formatString: \\\"MMMM DD, YYYY\\\")\\n            bannerImage {\\n                sizes(maxWidth: 400) {\\n                    ...GatsbyContentfulSizes\\n                }\\n            }\\n            content {\\n                childMarkdownRemark {\\n                    html\\n                }\\n            }\\n        }\\n    }\\n`</span></span></code></pre>\\n      </div>\\n<p>On this file we run another GraphQL query, taking the <strong>slug</strong> passed from previous query to search the API for the blog we are looking for. We then request all the data in this query that we need to build this blog post and then we can access it via props within the React component. We can then use it to build our JSX for the page like a normal React component.</p>\\n<p>Let's see is we were successful. Using <code class=\\\"language-text\\\">gatsby develop</code> we will restart our server, during the start sequence the GraphQL queries will run and the pages will be built, if we were successful the process will complete without any errors. If you browse to <strong><a href=\\\"http://localhost:8000/\\\">http://localhost:8000/</a></strong> you will notice no difference, however in development mode if we view a page that does exist such as <strong><a href=\\\"http://localhost:8000/nopage\\\">http://localhost:8000/nopage</a></strong> Gatsby will list the available pages like so:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/21obGEEwD6OIcksWaY6S0c/fc78ec6ab55e7f44b38dd1059691fc9d/Screen_Shot_2018-06-22_at_4.28.35_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 4.28.35 pm\\\"></p>\\n<p>From here we can click on the link to view the blog post:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/14sluWmNB0i2IK4yesU4u0/c9c3fab37d1119b471f539dd1f3be775/Screen_Shot_2018-06-22_at_4.31.17_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 4.31.17 pm\\\"></p>\\n<p>And success, our blog post has been created within our site. It's styling is basic but it's working. An important note is Gatsby will cache parts of the API data during the development build, so if you were to add more fields to the Content model later it might require you to clear the cache by <code class=\\\"language-text\\\">rm -rf .cache/ public</code> within the Terminal then restarting the server. Now we only need add some links for our blog on the index page so we can navigate to each post:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"javascript\\\">\\n      <pre class=\\\"language-javascript\\\"><code class=\\\"language-javascript\\\"><span class=\\\"token comment\\\">//src/pages/index.js</span>\\n<span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> Link <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'gatsby-link'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">IndexPage</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span>props<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">(</span>\\n  <span class=\\\"token operator\\\">&lt;</span>div<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>h1<span class=\\\"token operator\\\">></span>Hi people<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h1<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span>Welcome to your <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Gatsby</span> site<span class=\\\"token punctuation\\\">.</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span>Now go build something great<span class=\\\"token punctuation\\\">.</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span>ul<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>props<span class=\\\"token punctuation\\\">.</span>data<span class=\\\"token punctuation\\\">.</span>allContentfulBlog<span class=\\\"token punctuation\\\">.</span>edges<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span> <span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>li<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>Link to<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span> data<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>slug <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span> data<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>title <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Link<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span> data<span class=\\\"token punctuation\\\">.</span>node<span class=\\\"token punctuation\\\">.</span>content<span class=\\\"token punctuation\\\">.</span>childMarkdownRemark<span class=\\\"token punctuation\\\">.</span>excerpt <span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>li<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span>li<span class=\\\"token operator\\\">></span><span class=\\\"token operator\\\">&lt;</span>Link to<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"/page-2/\\\"</span><span class=\\\"token operator\\\">></span>Go to page <span class=\\\"token number\\\">2</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Link<span class=\\\"token operator\\\">></span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>li<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>ul<span class=\\\"token operator\\\">></span>\\n  <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> IndexPage<span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> pageQuery <span class=\\\"token operator\\\">=</span> graphql<span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n    query pageQuery {\\n        allContentfulBlog(\\n            filter: {\\n                node_locale: {eq: \\\"en-US\\\"}\\n            },\\n            sort: {\\n                fields: [createdAt], order: DESC\\n            }\\n        ) {\\n            edges {\\n                node {\\n                    title\\n                    slug\\n                    content {\\n                        childMarkdownRemark {\\n                            excerpt\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n    }\\n`</span></span></code></pre>\\n      </div>\\n<p>So now when we view the home page of our app we get links to our posts:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/50dcqxrqPekAgicMGuESqC/3ccc0fb1ea4f554929cd83b9eb79af30/Screen_Shot_2018-06-22_at_5.00.51_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 5.00.51 pm\\\"></p>\\n<h3>Deploy to Netlify</h3>\\n<p>The first step is to push your repository to GitHub/GitLab/Bitbucket, then head on over to <a href=\\\"https://www.netlify.com/\\\">Netlify</a> and sign up for an account. Once you are into the dashboard click <strong>New site from Git</strong>. Then select your remote git provider and then select your repository. When you get to the last screen, <strong>3. Build options, and deploy!</strong>, click <strong>show advanced</strong> and then click <strong>New variable</strong> and add the variables from your <code class=\\\"language-text\\\">.env</code> like below:</p>\\n<p><img src=\\\"//images.ctfassets.net/dbj3qsde8a1y/3GcyzH2hpuyMa4Kaakokse/5548e393df5150d5d48a2dc1bcbe7374/Screen_Shot_2018-06-22_at_5.24.32_pm.png\\\" alt=\\\"Screen Shot 2018-06-22 at 5.24.32 pm\\\"></p>\\n<p>From there Netlify's bot's will automatically build your site and the next page will give you the URI. You're now set to add more blogs and build your site. Each time you push changes to your remote git provider, Netlify will update the site. It it also possible to add a build hook for Contentful so Netlify will update the site when a new blog post is published.</p>\\n<h3>Conclusion</h3>\\n<p>I hope you found this useful, if you have any problems you can contact me on Twitter <a href=\\\"https://twitter.com/rhysonrails\\\">@rhysonrails</a> or click the email link below to send me an email.</p>\"}}}},\"pathContext\":{\"slug\":\"connect-gatsby-to-contentful\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/connect-gatsby-to-contentful.json\n// module id = 386\n// module chunks = 268729773956367"],"sourceRoot":""}